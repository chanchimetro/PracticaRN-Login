{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { userContext } from \"../contexts/userContext.js\";\nimport { dbContext } from \"../contexts/dbContext.js\";\nimport { thoughtServices } from \"../scripts.js\";\nimport Separator from \"../Separator\";\nimport styles from \"../stylesheet.js\";\nimport { useEffect, useState, useContext } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar handlePost = function handlePost(msg, navigation) {\n  alert(msg.text1);\n  if (msg.type == \"success\") setTimeout(function () {\n    return navigation.navigate('Home');\n  }, 1000);\n};\nexport default function FeedScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    thoughts = _useState2[0],\n    setThoughts = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    post = _useState4[0],\n    setPost = _useState4[1];\n  var user = useContext(userContext);\n  var db = useContext(dbContext);\n  useEffect(function () {\n    var func = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        console.log('user.user');\n        console.log(user.user);\n        setThoughts(yield thoughtServices.fetchThoughts(db));\n      });\n      return function func() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    func();\n  }, []);\n  useEffect(function () {\n    console.log('THOUGHTS');\n    console.log(thoughts);\n  }, [thoughts]);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.centeredCont,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"En que estas pensando?\",\n        onChangeText: setPost,\n        value: post\n      }), _jsx(Button, {\n        style: styles.button,\n        title: \"Post\",\n        onPress: _asyncToGenerator(function* () {\n          return handlePost(yield thoughtServices.postThought(post), navigation);\n        })\n      }), _jsx(Separator, {}), thoughts.length > 0 ? thoughts.map(function (t) {\n        return console.log(t);\n      }) : _jsx(_Fragment, {})]\n    }), _jsx(StatusBar, {\n      style: \"auto\"\n    })]\n  });\n}","map":{"version":3,"names":["StatusBar","View","SafeAreaView","Button","TextInput","userContext","dbContext","thoughtServices","Separator","styles","useEffect","useState","useContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","handlePost","msg","navigation","alert","text1","type","setTimeout","navigate","FeedScreen","_ref","_useState","_useState2","_slicedToArray","thoughts","setThoughts","_useState3","_useState4","post","setPost","user","db","func","_ref2","_asyncToGenerator","console","log","fetchThoughts","apply","arguments","style","container","children","centeredCont","input","placeholder","onChangeText","value","button","title","onPress","postThought","length","map","t"],"sources":["C:/Users/Martin/Desktop/PracticaRN-Login/screens/Feed.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport { View, SafeAreaView, Button, TextInput } from 'react-native';\r\nimport { userContext } from '../contexts/userContext.js';\r\nimport { dbContext } from '../contexts/dbContext.js';\r\nimport { thoughtServices } from '../scripts.js';\r\nimport Separator from '../Separator';\r\nimport styles from '../stylesheet.js';\r\nimport { useEffect, useState, useContext } from 'react';\r\n\r\nconst handlePost = (msg, navigation) => {\r\n\talert(msg.text1);\r\n\tif (msg.type == \"success\") setTimeout(() => navigation.navigate('Home'), 1000);\r\n}\r\n\r\nexport default function FeedScreen({ navigation }) {\r\n\tconst [thoughts, setThoughts] = useState([]);\r\n\tconst [post, setPost] = useState([]);\r\n\tconst user = useContext(userContext);\r\n\tconst db = useContext(dbContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst func = async () => {\r\n\t\t\tconsole.log('user.user');\r\n\t\t\tconsole.log(user.user);\r\n\t\t\tsetThoughts(await thoughtServices.fetchThoughts(db));\r\n\t\t}\r\n\t\tfunc();\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('THOUGHTS');\r\n\t\tconsole.log(thoughts);\r\n\t}, [thoughts])\r\n\r\n\treturn (\r\n\t\t<SafeAreaView style={styles.container}>\r\n\t\t\t<View\r\n\t\t\t\tstyle={styles.centeredCont}>\r\n\t\t\t\t<TextInput\r\n\t\t\t\t\tstyle={styles.input}\r\n\t\t\t\t\tplaceholder='En que estas pensando?'\r\n\t\t\t\t\tonChangeText={setPost}\r\n\t\t\t\t\tvalue={post}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\ttitle=\"Post\"\r\n\t\t\t\t\tonPress={async () => handlePost(await thoughtServices.postThought(post), navigation)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Separator />\r\n\t\t\t\t{\r\n\t\t\t\t\tthoughts.length > 0 ?\r\n\t\t\t\t\t\tthoughts.map((t) => (\r\n\t\t\t\t\t\t\tconsole.log(t)\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t\t: <></>\r\n\t\t\t\t}\r\n\t\t\t</View>\r\n\t\t\t<StatusBar style=\"auto\" />\r\n\t\t</SafeAreaView>\r\n\t);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}